var Et=Object.defineProperty;var Ft=(u,n,t)=>n in u?Et(u,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):u[n]=t;var ae=(u,n,t)=>Ft(u,typeof n!="symbol"?n+"":n,t);import{c as J,C as Dt,T as Ht,S as Gt,b as Se,d as Bt,P as Lt}from"./vendor/pixi-CCJ87DIy.js";import{g as ut}from"./vendor/gsap-DjKJqAo0.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ue;(function(u){(function(n){var t=typeof globalThis=="object"?globalThis:typeof J=="object"?J:typeof self=="object"?self:typeof this=="object"?this:w(),o=i(u);typeof t.Reflect<"u"&&(o=i(t.Reflect,o)),n(o,t),typeof t.Reflect>"u"&&(t.Reflect=u);function i(p,h){return function(I,e){Object.defineProperty(p,I,{configurable:!0,writable:!0,value:e}),h&&h(I,e)}}function s(){try{return Function("return this;")()}catch{}}function c(){try{return(0,eval)("(function() { return this; })()")}catch{}}function w(){return s()||c()}})(function(n,t){var o=Object.prototype.hasOwnProperty,i=typeof Symbol=="function",s=i&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",c=i&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",w=typeof Object.create=="function",p={__proto__:[]}instanceof Array,h=!w&&!p,I={create:w?function(){return xe(Object.create(null))}:p?function(){return xe({__proto__:null})}:function(){return xe({})},has:h?function(f,d){return o.call(f,d)}:function(f,d){return d in f},get:h?function(f,d){return o.call(f,d)?f[d]:void 0}:function(f,d){return f[d]}},e=Object.getPrototypeOf(Function),r=typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:Pt(),a=typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:Ot(),l=typeof WeakMap=="function"?WeakMap:kt(),v=i?Symbol.for("@reflect-metadata:registry"):void 0,m=St(),_=Mt(m);function S(f,d,y,g){if(P(y)){if(!je(f))throw new TypeError;if(!Ne(d))throw new TypeError;return Ae(f,d)}else{if(!je(f))throw new TypeError;if(!H(d))throw new TypeError;if(!H(g)&&!P(g)&&!te(g))throw new TypeError;return te(g)&&(g=void 0),y=Z(y),ce(f,d,y,g)}}n("decorate",S);function C(f,d){function y(g,M){if(!H(g))throw new TypeError;if(!P(M)&&!Tt(M))throw new TypeError;Ge(f,d,g,M)}return y}n("metadata",C);function F(f,d,y,g){if(!H(y))throw new TypeError;return P(g)||(g=Z(g)),Ge(f,d,y,g)}n("defineMetadata",F);function $(f,d,y){if(!H(d))throw new TypeError;return P(y)||(y=Z(y)),Q(f,d,y)}n("hasMetadata",$);function U(f,d,y){if(!H(d))throw new TypeError;return P(y)||(y=Z(y)),ie(f,d,y)}n("hasOwnMetadata",U);function ee(f,d,y){if(!H(d))throw new TypeError;return P(y)||(y=Z(y)),De(f,d,y)}n("getMetadata",ee);function ne(f,d,y){if(!H(d))throw new TypeError;return P(y)||(y=Z(y)),He(f,d,y)}n("getOwnMetadata",ne);function R(f,d){if(!H(f))throw new TypeError;return P(d)||(d=Z(d)),Be(f,d)}n("getMetadataKeys",R);function le(f,d){if(!H(f))throw new TypeError;return P(d)||(d=Z(d)),Le(f,d)}n("getOwnMetadataKeys",le);function fe(f,d,y){if(!H(d))throw new TypeError;if(P(y)||(y=Z(y)),!H(d))throw new TypeError;P(y)||(y=Z(y));var g=oe(d,y,!1);return P(g)?!1:g.OrdinaryDeleteMetadata(f,d,y)}n("deleteMetadata",fe);function Ae(f,d){for(var y=f.length-1;y>=0;--y){var g=f[y],M=g(d);if(!P(M)&&!te(M)){if(!Ne(M))throw new TypeError;d=M}}return d}function ce(f,d,y,g){for(var M=f.length-1;M>=0;--M){var B=f[M],G=B(d,y,g);if(!P(G)&&!te(G)){if(!H(G))throw new TypeError;g=G}}return g}function Q(f,d,y){var g=ie(f,d,y);if(g)return!0;var M=Te(d);return te(M)?!1:Q(f,M,y)}function ie(f,d,y){var g=oe(d,y,!1);return P(g)?!1:Xe(g.OrdinaryHasOwnMetadata(f,d,y))}function De(f,d,y){var g=ie(f,d,y);if(g)return He(f,d,y);var M=Te(d);if(!te(M))return De(f,M,y)}function He(f,d,y){var g=oe(d,y,!1);if(!P(g))return g.OrdinaryGetOwnMetadata(f,d,y)}function Ge(f,d,y,g){var M=oe(y,g,!0);M.OrdinaryDefineOwnMetadata(f,d,y,g)}function Be(f,d){var y=Le(f,d),g=Te(f);if(g===null)return y;var M=Be(g,d);if(M.length<=0)return y;if(y.length<=0)return M;for(var B=new a,G=[],O=0,A=y;O<A.length;O++){var b=A[O],T=B.has(b);T||(B.add(b),G.push(b))}for(var x=0,k=M;x<k.length;x++){var b=k[x],T=B.has(b);T||(B.add(b),G.push(b))}return G}function Le(f,d){var y=oe(f,d,!1);return y?y.OrdinaryOwnMetadataKeys(f,d):[]}function Ve(f){if(f===null)return 1;switch(typeof f){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return f===null?1:6;default:return 6}}function P(f){return f===void 0}function te(f){return f===null}function wt(f){return typeof f=="symbol"}function H(f){return typeof f=="object"?f!==null:typeof f=="function"}function gt(f,d){switch(Ve(f)){case 0:return f;case 1:return f;case 2:return f;case 3:return f;case 4:return f;case 5:return f}var y="string",g=qe(f,s);if(g!==void 0){var M=g.call(f,y);if(H(M))throw new TypeError;return M}return At(f)}function At(f,d){var y,g;{var M=f.toString;if(de(M)){var g=M.call(f);if(!H(g))return g}var y=f.valueOf;if(de(y)){var g=y.call(f);if(!H(g))return g}}throw new TypeError}function Xe(f){return!!f}function bt(f){return""+f}function Z(f){var d=gt(f);return wt(d)?d:bt(d)}function je(f){return Array.isArray?Array.isArray(f):f instanceof Object?f instanceof Array:Object.prototype.toString.call(f)==="[object Array]"}function de(f){return typeof f=="function"}function Ne(f){return typeof f=="function"}function Tt(f){switch(Ve(f)){case 3:return!0;case 4:return!0;default:return!1}}function be(f,d){return f===d||f!==f&&d!==d}function qe(f,d){var y=f[d];if(y!=null){if(!de(y))throw new TypeError;return y}}function We(f){var d=qe(f,c);if(!de(d))throw new TypeError;var y=d.call(f);if(!H(y))throw new TypeError;return y}function $e(f){return f.value}function Ye(f){var d=f.next();return d.done?!1:d}function Ze(f){var d=f.return;d&&d.call(f)}function Te(f){var d=Object.getPrototypeOf(f);if(typeof f!="function"||f===e||d!==e)return d;var y=f.prototype,g=y&&Object.getPrototypeOf(y);if(g==null||g===Object.prototype)return d;var M=g.constructor;return typeof M!="function"||M===f?d:M}function xt(){var f;!P(v)&&typeof t.Reflect<"u"&&!(v in t.Reflect)&&typeof t.Reflect.defineMetadata=="function"&&(f=It(t.Reflect));var d,y,g,M=new l,B={registerProvider:G,getProvider:A,setProvider:T};return B;function G(x){if(!Object.isExtensible(B))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case f===x:break;case P(d):d=x;break;case d===x:break;case P(y):y=x;break;case y===x:break;default:g===void 0&&(g=new a),g.add(x);break}}function O(x,k){if(!P(d)){if(d.isProviderFor(x,k))return d;if(!P(y)){if(y.isProviderFor(x,k))return d;if(!P(g))for(var E=We(g);;){var D=Ye(E);if(!D)return;var Y=$e(D);if(Y.isProviderFor(x,k))return Ze(E),Y}}}if(!P(f)&&f.isProviderFor(x,k))return f}function A(x,k){var E=M.get(x),D;return P(E)||(D=E.get(k)),P(D)&&(D=O(x,k),P(D)||(P(E)&&(E=new r,M.set(x,E)),E.set(k,D))),D}function b(x){if(P(x))throw new TypeError;return d===x||y===x||!P(g)&&g.has(x)}function T(x,k,E){if(!b(E))throw new Error("Metadata provider not registered.");var D=A(x,k);if(D!==E){if(!P(D))return!1;var Y=M.get(x);P(Y)&&(Y=new r,M.set(x,Y)),Y.set(k,E)}return!0}}function St(){var f;return!P(v)&&H(t.Reflect)&&Object.isExtensible(t.Reflect)&&(f=t.Reflect[v]),P(f)&&(f=xt()),!P(v)&&H(t.Reflect)&&Object.isExtensible(t.Reflect)&&Object.defineProperty(t.Reflect,v,{enumerable:!1,configurable:!1,writable:!1,value:f}),f}function Mt(f){var d=new l,y={isProviderFor:function(b,T){var x=d.get(b);return P(x)?!1:x.has(T)},OrdinaryDefineOwnMetadata:G,OrdinaryHasOwnMetadata:M,OrdinaryGetOwnMetadata:B,OrdinaryOwnMetadataKeys:O,OrdinaryDeleteMetadata:A};return m.registerProvider(y),y;function g(b,T,x){var k=d.get(b),E=!1;if(P(k)){if(!x)return;k=new r,d.set(b,k),E=!0}var D=k.get(T);if(P(D)){if(!x)return;if(D=new r,k.set(T,D),!f.setProvider(b,T,y))throw k.delete(T),E&&d.delete(b),new Error("Wrong provider for target.")}return D}function M(b,T,x){var k=g(T,x,!1);return P(k)?!1:Xe(k.has(b))}function B(b,T,x){var k=g(T,x,!1);if(!P(k))return k.get(b)}function G(b,T,x,k){var E=g(x,k,!0);E.set(b,T)}function O(b,T){var x=[],k=g(b,T,!1);if(P(k))return x;for(var E=k.keys(),D=We(E),Y=0;;){var Qe=Ye(D);if(!Qe)return x.length=Y,x;var Ct=$e(Qe);try{x[Y]=Ct}catch(Rt){try{Ze(D)}finally{throw Rt}}Y++}}function A(b,T,x){var k=g(T,x,!1);if(P(k)||!k.delete(b))return!1;if(k.size===0){var E=d.get(T);P(E)||(E.delete(x),E.size===0&&d.delete(E))}return!0}}function It(f){var d=f.defineMetadata,y=f.hasOwnMetadata,g=f.getOwnMetadata,M=f.getOwnMetadataKeys,B=f.deleteMetadata,G=new l,O={isProviderFor:function(A,b){var T=G.get(A);return!P(T)&&T.has(b)?!0:M(A,b).length?(P(T)&&(T=new a,G.set(A,T)),T.add(b),!0):!1},OrdinaryDefineOwnMetadata:d,OrdinaryHasOwnMetadata:y,OrdinaryGetOwnMetadata:g,OrdinaryOwnMetadataKeys:M,OrdinaryDeleteMetadata:B};return O}function oe(f,d,y){var g=m.getProvider(f,d);if(!P(g))return g;if(y){if(m.setProvider(f,d,_))return _;throw new Error("Illegal state.")}}function Pt(){var f={},d=[],y=function(){function O(A,b,T){this._index=0,this._keys=A,this._values=b,this._selector=T}return O.prototype["@@iterator"]=function(){return this},O.prototype[c]=function(){return this},O.prototype.next=function(){var A=this._index;if(A>=0&&A<this._keys.length){var b=this._selector(this._keys[A],this._values[A]);return A+1>=this._keys.length?(this._index=-1,this._keys=d,this._values=d):this._index++,{value:b,done:!1}}return{value:void 0,done:!0}},O.prototype.throw=function(A){throw this._index>=0&&(this._index=-1,this._keys=d,this._values=d),A},O.prototype.return=function(A){return this._index>=0&&(this._index=-1,this._keys=d,this._values=d),{value:A,done:!0}},O}(),g=function(){function O(){this._keys=[],this._values=[],this._cacheKey=f,this._cacheIndex=-2}return Object.defineProperty(O.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),O.prototype.has=function(A){return this._find(A,!1)>=0},O.prototype.get=function(A){var b=this._find(A,!1);return b>=0?this._values[b]:void 0},O.prototype.set=function(A,b){var T=this._find(A,!0);return this._values[T]=b,this},O.prototype.delete=function(A){var b=this._find(A,!1);if(b>=0){for(var T=this._keys.length,x=b+1;x<T;x++)this._keys[x-1]=this._keys[x],this._values[x-1]=this._values[x];return this._keys.length--,this._values.length--,be(A,this._cacheKey)&&(this._cacheKey=f,this._cacheIndex=-2),!0}return!1},O.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=f,this._cacheIndex=-2},O.prototype.keys=function(){return new y(this._keys,this._values,M)},O.prototype.values=function(){return new y(this._keys,this._values,B)},O.prototype.entries=function(){return new y(this._keys,this._values,G)},O.prototype["@@iterator"]=function(){return this.entries()},O.prototype[c]=function(){return this.entries()},O.prototype._find=function(A,b){if(!be(this._cacheKey,A)){this._cacheIndex=-1;for(var T=0;T<this._keys.length;T++)if(be(this._keys[T],A)){this._cacheIndex=T;break}}return this._cacheIndex<0&&b&&(this._cacheIndex=this._keys.length,this._keys.push(A),this._values.push(void 0)),this._cacheIndex},O}();return g;function M(O,A){return O}function B(O,A){return A}function G(O,A){return[O,A]}}function Ot(){var f=function(){function d(){this._map=new r}return Object.defineProperty(d.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),d.prototype.has=function(y){return this._map.has(y)},d.prototype.add=function(y){return this._map.set(y,y),this},d.prototype.delete=function(y){return this._map.delete(y)},d.prototype.clear=function(){this._map.clear()},d.prototype.keys=function(){return this._map.keys()},d.prototype.values=function(){return this._map.keys()},d.prototype.entries=function(){return this._map.entries()},d.prototype["@@iterator"]=function(){return this.keys()},d.prototype[c]=function(){return this.keys()},d}();return f}function kt(){var f=16,d=I.create(),y=g();return function(){function A(){this._key=g()}return A.prototype.has=function(b){var T=M(b,!1);return T!==void 0?I.has(T,this._key):!1},A.prototype.get=function(b){var T=M(b,!1);return T!==void 0?I.get(T,this._key):void 0},A.prototype.set=function(b,T){var x=M(b,!0);return x[this._key]=T,this},A.prototype.delete=function(b){var T=M(b,!1);return T!==void 0?delete T[this._key]:!1},A.prototype.clear=function(){this._key=g()},A}();function g(){var A;do A="@@WeakMap@@"+O();while(I.has(d,A));return d[A]=!0,A}function M(A,b){if(!o.call(A,y)){if(!b)return;Object.defineProperty(A,y,{value:I.create()})}return A[y]}function B(A,b){for(var T=0;T<b;++T)A[T]=Math.random()*255|0;return A}function G(A){if(typeof Uint8Array=="function"){var b=new Uint8Array(A);return typeof crypto<"u"?crypto.getRandomValues(b):typeof msCrypto<"u"?msCrypto.getRandomValues(b):B(b,A),b}return B(new Array(A),A)}function O(){var A=G(f);A[6]=A[6]&79|64,A[8]=A[8]&191|128;for(var b="",T=0;T<f;++T){var x=A[T];(T===4||T===6||T===8)&&(b+="-"),x<16&&(b+="0"),b+=x.toString(16).toLowerCase()}return b}}function xe(f){return f.__=void 0,delete f.__,f}})})(Ue||(Ue={}));var Me;(function(u){u[u.Transient=0]="Transient",u[u.Singleton=1]="Singleton",u[u.ResolutionScoped=2]="ResolutionScoped",u[u.ContainerScoped=3]="ContainerScoped"})(Me||(Me={}));const V=Me;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ie=function(u,n){return Ie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)o.hasOwnProperty(i)&&(t[i]=o[i])},Ie(u,n)};function Ee(u,n){Ie(u,n);function t(){this.constructor=u}u.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}function Vt(u,n,t,o){function i(s){return s instanceof t?s:new t(function(c){c(s)})}return new(t||(t=Promise))(function(s,c){function w(I){try{h(o.next(I))}catch(e){c(e)}}function p(I){try{h(o.throw(I))}catch(e){c(e)}}function h(I){I.done?s(I.value):i(I.value).then(w,p)}h((o=o.apply(u,[])).next())})}function Xt(u,n){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},o,i,s,c;return c={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function w(h){return function(I){return p([h,I])}}function p(h){if(o)throw new TypeError("Generator is already executing.");for(;t;)try{if(o=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,i=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){t.label=h[1];break}if(h[0]===6&&t.label<s[1]){t.label=s[1],s=h;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(h);break}s[2]&&t.ops.pop(),t.trys.pop();continue}h=n.call(u,t)}catch(I){h=[6,I],i=0}finally{o=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function _e(u){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&u[n],o=0;if(t)return t.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&o>=u.length&&(u=void 0),{value:u&&u[o++],done:!u}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function ye(u,n){var t=typeof Symbol=="function"&&u[Symbol.iterator];if(!t)return u;var o=t.call(u),i,s=[],c;try{for(;(n===void 0||n-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(w){c={error:w}}finally{try{i&&!i.done&&(t=o.return)&&t.call(o)}finally{if(c)throw c.error}}return s}function K(){for(var u=[],n=0;n<arguments.length;n++)u=u.concat(ye(arguments[n]));return u}function lt(u){return!!u.useClass}function Pe(u){return!!u.useFactory}var ft=function(){function u(n){this.wrap=n,this.reflectMethods=["get","getPrototypeOf","setPrototypeOf","getOwnPropertyDescriptor","defineProperty","has","set","deleteProperty","apply","construct","ownKeys"]}return u.prototype.createProxy=function(n){var t=this,o={},i=!1,s,c=function(){return i||(s=n(t.wrap()),i=!0),s};return new Proxy(o,this.createHandler(c))},u.prototype.createHandler=function(n){var t={},o=function(i){t[i]=function(){for(var s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];s[0]=n();var w=Reflect[i];return w.apply(void 0,K(s))}};return this.reflectMethods.forEach(o),t},u}();function re(u){return typeof u=="string"||typeof u=="symbol"}function jt(u){return typeof u=="object"&&"token"in u&&"multiple"in u}function ze(u){return typeof u=="object"&&"token"in u&&"transform"in u}function Nt(u){return typeof u=="function"||u instanceof ft}function he(u){return!!u.useToken}function ve(u){return u.useValue!=null}function qt(u){return lt(u)||ve(u)||he(u)||Pe(u)}var Fe=function(){function u(){this._registryMap=new Map}return u.prototype.entries=function(){return this._registryMap.entries()},u.prototype.getAll=function(n){return this.ensure(n),this._registryMap.get(n)},u.prototype.get=function(n){this.ensure(n);var t=this._registryMap.get(n);return t[t.length-1]||null},u.prototype.set=function(n,t){this.ensure(n),this._registryMap.get(n).push(t)},u.prototype.setAll=function(n,t){this._registryMap.set(n,t)},u.prototype.has=function(n){return this.ensure(n),this._registryMap.get(n).length>0},u.prototype.clear=function(){this._registryMap.clear()},u.prototype.ensure=function(n){this._registryMap.has(n)||this._registryMap.set(n,[])},u}(),Wt=function(u){Ee(n,u);function n(){return u!==null&&u.apply(this,arguments)||this}return n}(Fe),Je=function(){function u(){this.scopedResolutions=new Map}return u}();function $t(u,n){if(u===null)return"at position #"+n;var t=u.split(",")[n].trim();return'"'+t+'" at position #'+n}function Yt(u,n,t){return t===void 0&&(t="    "),K([u],n.message.split(`
`).map(function(o){return t+o})).join(`
`)}function Zt(u,n,t){var o=ye(u.toString().match(/constructor\(([\w, ]+)\)/)||[],2),i=o[1],s=i===void 0?null:i,c=$t(s,n);return Yt("Cannot inject the dependency "+c+' of "'+u.name+'" constructor. Reason:',t)}function Qt(u){if(typeof u.dispose!="function")return!1;var n=u.dispose;return!(n.length>0)}var Ut=function(u){Ee(n,u);function n(){return u!==null&&u.apply(this,arguments)||this}return n}(Fe),zt=function(u){Ee(n,u);function n(){return u!==null&&u.apply(this,arguments)||this}return n}(Fe),Jt=function(){function u(){this.preResolution=new Ut,this.postResolution=new zt}return u}(),Kt=new Map,er=function(){function u(n){this.parent=n,this._registry=new Wt,this.interceptors=new Jt,this.disposed=!1,this.disposables=new Set}return u.prototype.register=function(n,t,o){o===void 0&&(o={lifecycle:V.Transient}),this.ensureNotDisposed();var i;if(qt(t)?i=t:i={useClass:t},he(i))for(var s=[n],c=i;c!=null;){var w=c.useToken;if(s.includes(w))throw new Error("Token registration cycle detected! "+K(s,[w]).join(" -> "));s.push(w);var p=this._registry.get(w);p&&he(p.provider)?c=p.provider:c=null}if((o.lifecycle===V.Singleton||o.lifecycle==V.ContainerScoped||o.lifecycle==V.ResolutionScoped)&&(ve(i)||Pe(i)))throw new Error('Cannot use lifecycle "'+V[o.lifecycle]+'" with ValueProviders or FactoryProviders');return this._registry.set(n,{provider:i,options:o}),this},u.prototype.registerType=function(n,t){return this.ensureNotDisposed(),re(t)?this.register(n,{useToken:t}):this.register(n,{useClass:t})},u.prototype.registerInstance=function(n,t){return this.ensureNotDisposed(),this.register(n,{useValue:t})},u.prototype.registerSingleton=function(n,t){if(this.ensureNotDisposed(),re(n)){if(re(t))return this.register(n,{useToken:t},{lifecycle:V.Singleton});if(t)return this.register(n,{useClass:t},{lifecycle:V.Singleton});throw new Error('Cannot register a type name as a singleton without a "to" token')}var o=n;return t&&!re(t)&&(o=t),this.register(n,{useClass:o},{lifecycle:V.Singleton})},u.prototype.resolve=function(n,t){t===void 0&&(t=new Je),this.ensureNotDisposed();var o=this.getRegistration(n);if(!o&&re(n))throw new Error('Attempted to resolve unregistered dependency token: "'+n.toString()+'"');if(this.executePreResolutionInterceptor(n,"Single"),o){var i=this.resolveRegistration(o,t);return this.executePostResolutionInterceptor(n,i,"Single"),i}if(Nt(n)){var i=this.construct(n,t);return this.executePostResolutionInterceptor(n,i,"Single"),i}throw new Error("Attempted to construct an undefined constructor. Could mean a circular dependency problem. Try using `delay` function.")},u.prototype.executePreResolutionInterceptor=function(n,t){var o,i;if(this.interceptors.preResolution.has(n)){var s=[];try{for(var c=_e(this.interceptors.preResolution.getAll(n)),w=c.next();!w.done;w=c.next()){var p=w.value;p.options.frequency!="Once"&&s.push(p),p.callback(n,t)}}catch(h){o={error:h}}finally{try{w&&!w.done&&(i=c.return)&&i.call(c)}finally{if(o)throw o.error}}this.interceptors.preResolution.setAll(n,s)}},u.prototype.executePostResolutionInterceptor=function(n,t,o){var i,s;if(this.interceptors.postResolution.has(n)){var c=[];try{for(var w=_e(this.interceptors.postResolution.getAll(n)),p=w.next();!p.done;p=w.next()){var h=p.value;h.options.frequency!="Once"&&c.push(h),h.callback(n,t,o)}}catch(I){i={error:I}}finally{try{p&&!p.done&&(s=w.return)&&s.call(w)}finally{if(i)throw i.error}}this.interceptors.postResolution.setAll(n,c)}},u.prototype.resolveRegistration=function(n,t){if(this.ensureNotDisposed(),n.options.lifecycle===V.ResolutionScoped&&t.scopedResolutions.has(n))return t.scopedResolutions.get(n);var o=n.options.lifecycle===V.Singleton,i=n.options.lifecycle===V.ContainerScoped,s=o||i,c;return ve(n.provider)?c=n.provider.useValue:he(n.provider)?c=s?n.instance||(n.instance=this.resolve(n.provider.useToken,t)):this.resolve(n.provider.useToken,t):lt(n.provider)?c=s?n.instance||(n.instance=this.construct(n.provider.useClass,t)):this.construct(n.provider.useClass,t):Pe(n.provider)?c=n.provider.useFactory(this):c=this.construct(n.provider,t),n.options.lifecycle===V.ResolutionScoped&&t.scopedResolutions.set(n,c),c},u.prototype.resolveAll=function(n,t){var o=this;t===void 0&&(t=new Je),this.ensureNotDisposed();var i=this.getAllRegistrations(n);if(!i&&re(n))throw new Error('Attempted to resolve unregistered dependency token: "'+n.toString()+'"');if(this.executePreResolutionInterceptor(n,"All"),i){var s=i.map(function(w){return o.resolveRegistration(w,t)});return this.executePostResolutionInterceptor(n,s,"All"),s}var c=[this.construct(n,t)];return this.executePostResolutionInterceptor(n,c,"All"),c},u.prototype.isRegistered=function(n,t){return t===void 0&&(t=!1),this.ensureNotDisposed(),this._registry.has(n)||t&&(this.parent||!1)&&this.parent.isRegistered(n,!0)},u.prototype.reset=function(){this.ensureNotDisposed(),this._registry.clear(),this.interceptors.preResolution.clear(),this.interceptors.postResolution.clear()},u.prototype.clearInstances=function(){var n,t;this.ensureNotDisposed();try{for(var o=_e(this._registry.entries()),i=o.next();!i.done;i=o.next()){var s=ye(i.value,2),c=s[0],w=s[1];this._registry.setAll(c,w.filter(function(p){return!ve(p.provider)}).map(function(p){return p.instance=void 0,p}))}}catch(p){n={error:p}}finally{try{i&&!i.done&&(t=o.return)&&t.call(o)}finally{if(n)throw n.error}}},u.prototype.createChildContainer=function(){var n,t;this.ensureNotDisposed();var o=new u(this);try{for(var i=_e(this._registry.entries()),s=i.next();!s.done;s=i.next()){var c=ye(s.value,2),w=c[0],p=c[1];p.some(function(h){var I=h.options;return I.lifecycle===V.ContainerScoped})&&o._registry.setAll(w,p.map(function(h){return h.options.lifecycle===V.ContainerScoped?{provider:h.provider,options:h.options}:h}))}}catch(h){n={error:h}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(n)throw n.error}}return o},u.prototype.beforeResolution=function(n,t,o){o===void 0&&(o={frequency:"Always"}),this.interceptors.preResolution.set(n,{callback:t,options:o})},u.prototype.afterResolution=function(n,t,o){o===void 0&&(o={frequency:"Always"}),this.interceptors.postResolution.set(n,{callback:t,options:o})},u.prototype.dispose=function(){return Vt(this,void 0,void 0,function(){var n;return Xt(this,function(t){switch(t.label){case 0:return this.disposed=!0,n=[],this.disposables.forEach(function(o){var i=o.dispose();i&&n.push(i)}),[4,Promise.all(n)];case 1:return t.sent(),[2]}})})},u.prototype.getRegistration=function(n){return this.isRegistered(n)?this._registry.get(n):this.parent?this.parent.getRegistration(n):null},u.prototype.getAllRegistrations=function(n){return this.isRegistered(n)?this._registry.getAll(n):this.parent?this.parent.getAllRegistrations(n):null},u.prototype.construct=function(n,t){var o=this;if(n instanceof ft)return n.createProxy(function(s){return o.resolve(s,t)});var i=function(){var s=Kt.get(n);if(!s||s.length===0){if(n.length===0)return new n;throw new Error('TypeInfo not known for "'+n.name+'"')}var c=s.map(o.resolveParams(t,n));return new(n.bind.apply(n,K([void 0],c)))}();return Qt(i)&&this.disposables.add(i),i},u.prototype.resolveParams=function(n,t){var o=this;return function(i,s){var c,w,p;try{return jt(i)?ze(i)?i.multiple?(c=o.resolve(i.transform)).transform.apply(c,K([o.resolveAll(i.token)],i.transformArgs)):(w=o.resolve(i.transform)).transform.apply(w,K([o.resolve(i.token,n)],i.transformArgs)):i.multiple?o.resolveAll(i.token):o.resolve(i.token,n):ze(i)?(p=o.resolve(i.transform,n)).transform.apply(p,K([o.resolve(i.token,n)],i.transformArgs)):o.resolve(i,n)}catch(h){throw new Error(Zt(t,s,h))}}},u.prototype.ensureNotDisposed=function(){if(this.disposed)throw new Error("This container has been disposed, you cannot interact with a disposed container")},u}(),tr=new er;if(typeof Reflect>"u"||!Reflect.getMetadata)throw new Error(`tsyringe requires a reflect polyfill. Please add 'import "reflect-metadata"' to the top of your entry point.`);var ct={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(u){(function(){var n=function(){this.init()};n.prototype={init:function(){var e=this||t;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator=typeof window<"u"&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var r=this||t;if(e=parseFloat(e),r.ctx||I(),typeof e<"u"&&e>=0&&e<=1){if(r._volume=e,r._muted)return r;r.usingWebAudio&&r.masterGain.gain.setValueAtTime(e,t.ctx.currentTime);for(var a=0;a<r._howls.length;a++)if(!r._howls[a]._webAudio)for(var l=r._howls[a]._getSoundIds(),v=0;v<l.length;v++){var m=r._howls[a]._soundById(l[v]);m&&m._node&&(m._node.volume=m._volume*e)}return r}return r._volume},mute:function(e){var r=this||t;r.ctx||I(),r._muted=e,r.usingWebAudio&&r.masterGain.gain.setValueAtTime(e?0:r._volume,t.ctx.currentTime);for(var a=0;a<r._howls.length;a++)if(!r._howls[a]._webAudio)for(var l=r._howls[a]._getSoundIds(),v=0;v<l.length;v++){var m=r._howls[a]._soundById(l[v]);m&&m._node&&(m._node.muted=e?!0:m._muted)}return r},stop:function(){for(var e=this||t,r=0;r<e._howls.length;r++)e._howls[r].stop();return e},unload:function(){for(var e=this||t,r=e._howls.length-1;r>=0;r--)e._howls[r].unload();return e.usingWebAudio&&e.ctx&&typeof e.ctx.close<"u"&&(e.ctx.close(),e.ctx=null,I()),e},codecs:function(e){return(this||t)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||t;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if(typeof Audio<"u")try{var r=new Audio;typeof r.oncanplaythrough>"u"&&(e._canPlayEvent="canplay")}catch{e.noAudio=!0}else e.noAudio=!0;try{var r=new Audio;r.muted&&(e.noAudio=!0)}catch{}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||t,r=null;try{r=typeof Audio<"u"?new Audio:null}catch{return e}if(!r||typeof r.canPlayType!="function")return e;var a=r.canPlayType("audio/mpeg;").replace(/^no$/,""),l=e._navigator?e._navigator.userAgent:"",v=l.match(/OPR\/(\d+)/g),m=v&&parseInt(v[0].split("/")[1],10)<33,_=l.indexOf("Safari")!==-1&&l.indexOf("Chrome")===-1,S=l.match(/Version\/(.*?) /),C=_&&S&&parseInt(S[1],10)<15;return e._codecs={mp3:!!(!m&&(a||r.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!a,opus:!!r.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!r.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!r.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(r.canPlayType('audio/wav; codecs="1"')||r.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!r.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!r.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(r.canPlayType("audio/x-m4a;")||r.canPlayType("audio/m4a;")||r.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(r.canPlayType("audio/x-m4b;")||r.canPlayType("audio/m4b;")||r.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(r.canPlayType("audio/x-mp4;")||r.canPlayType("audio/mp4;")||r.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!C&&r.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!C&&r.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!r.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(r.canPlayType("audio/x-flac;")||r.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||t;if(!(e._audioUnlocked||!e.ctx)){e._audioUnlocked=!1,e.autoUnlock=!1,!e._mobileUnloaded&&e.ctx.sampleRate!==44100&&(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var r=function(a){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var l=new Audio;l._unlocked=!0,e._releaseHtml5Audio(l)}catch{e.noAudio=!0;break}for(var v=0;v<e._howls.length;v++)if(!e._howls[v]._webAudio)for(var m=e._howls[v]._getSoundIds(),_=0;_<m.length;_++){var S=e._howls[v]._soundById(m[_]);S&&S._node&&!S._node._unlocked&&(S._node._unlocked=!0,S._node.load())}e._autoResume();var C=e.ctx.createBufferSource();C.buffer=e._scratchBuffer,C.connect(e.ctx.destination),typeof C.start>"u"?C.noteOn(0):C.start(0),typeof e.ctx.resume=="function"&&e.ctx.resume(),C.onended=function(){C.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",r,!0),document.removeEventListener("touchend",r,!0),document.removeEventListener("click",r,!0),document.removeEventListener("keydown",r,!0);for(var F=0;F<e._howls.length;F++)e._howls[F]._emit("unlock")}};return document.addEventListener("touchstart",r,!0),document.addEventListener("touchend",r,!0),document.addEventListener("click",r,!0),document.addEventListener("keydown",r,!0),e}},_obtainHtml5Audio:function(){var e=this||t;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var r=new Audio().play();return r&&typeof Promise<"u"&&(r instanceof Promise||typeof r.then=="function")&&r.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(e){var r=this||t;return e._unlocked&&r._html5AudioPool.push(e),r},_autoSuspend:function(){var e=this;if(!(!e.autoSuspend||!e.ctx||typeof e.ctx.suspend>"u"||!t.usingWebAudio)){for(var r=0;r<e._howls.length;r++)if(e._howls[r]._webAudio){for(var a=0;a<e._howls[r]._sounds.length;a++)if(!e._howls[r]._sounds[a]._paused)return e}return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var l=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(l,l)}},3e4),e}},_autoResume:function(){var e=this;if(!(!e.ctx||typeof e.ctx.resume>"u"||!t.usingWebAudio))return e.state==="running"&&e.ctx.state!=="interrupted"&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):e.state==="suspended"||e.state==="running"&&e.ctx.state==="interrupted"?(e.ctx.resume().then(function(){e.state="running";for(var r=0;r<e._howls.length;r++)e._howls[r]._emit("resume")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):e.state==="suspending"&&(e._resumeAfterSuspend=!0),e}};var t=new n,o=function(e){var r=this;if(!e.src||e.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}r.init(e)};o.prototype={init:function(e){var r=this;return t.ctx||I(),r._autoplay=e.autoplay||!1,r._format=typeof e.format!="string"?e.format:[e.format],r._html5=e.html5||!1,r._muted=e.mute||!1,r._loop=e.loop||!1,r._pool=e.pool||5,r._preload=typeof e.preload=="boolean"||e.preload==="metadata"?e.preload:!0,r._rate=e.rate||1,r._sprite=e.sprite||{},r._src=typeof e.src!="string"?e.src:[e.src],r._volume=e.volume!==void 0?e.volume:1,r._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:e.xhr&&e.xhr.withCredentials?e.xhr.withCredentials:!1},r._duration=0,r._state="unloaded",r._sounds=[],r._endTimers={},r._queue=[],r._playLock=!1,r._onend=e.onend?[{fn:e.onend}]:[],r._onfade=e.onfade?[{fn:e.onfade}]:[],r._onload=e.onload?[{fn:e.onload}]:[],r._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],r._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],r._onpause=e.onpause?[{fn:e.onpause}]:[],r._onplay=e.onplay?[{fn:e.onplay}]:[],r._onstop=e.onstop?[{fn:e.onstop}]:[],r._onmute=e.onmute?[{fn:e.onmute}]:[],r._onvolume=e.onvolume?[{fn:e.onvolume}]:[],r._onrate=e.onrate?[{fn:e.onrate}]:[],r._onseek=e.onseek?[{fn:e.onseek}]:[],r._onunlock=e.onunlock?[{fn:e.onunlock}]:[],r._onresume=[],r._webAudio=t.usingWebAudio&&!r._html5,typeof t.ctx<"u"&&t.ctx&&t.autoUnlock&&t._unlockAudio(),t._howls.push(r),r._autoplay&&r._queue.push({event:"play",action:function(){r.play()}}),r._preload&&r._preload!=="none"&&r.load(),r},load:function(){var e=this,r=null;if(t.noAudio){e._emit("loaderror",null,"No audio support.");return}typeof e._src=="string"&&(e._src=[e._src]);for(var a=0;a<e._src.length;a++){var l,v;if(e._format&&e._format[a])l=e._format[a];else{if(v=e._src[a],typeof v!="string"){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}l=/^data:audio\/([^;,]+);/i.exec(v),l||(l=/\.([^.]+)$/.exec(v.split("?",1)[0])),l&&(l=l[1].toLowerCase())}if(l||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),l&&t.codecs(l)){r=e._src[a];break}}if(!r){e._emit("loaderror",null,"No codec support for selected audio sources.");return}return e._src=r,e._state="loading",window.location.protocol==="https:"&&r.slice(0,5)==="http:"&&(e._html5=!0,e._webAudio=!1),new i(e),e._webAudio&&c(e),e},play:function(e,r){var a=this,l=null;if(typeof e=="number")l=e,e=null;else{if(typeof e=="string"&&a._state==="loaded"&&!a._sprite[e])return null;if(typeof e>"u"&&(e="__default",!a._playLock)){for(var v=0,m=0;m<a._sounds.length;m++)a._sounds[m]._paused&&!a._sounds[m]._ended&&(v++,l=a._sounds[m]._id);v===1?e=null:l=null}}var _=l?a._soundById(l):a._inactiveSound();if(!_)return null;if(l&&!e&&(e=_._sprite||"__default"),a._state!=="loaded"){_._sprite=e,_._ended=!1;var S=_._id;return a._queue.push({event:"play",action:function(){a.play(S)}}),S}if(l&&!_._paused)return r||a._loadQueue("play"),_._id;a._webAudio&&t._autoResume();var C=Math.max(0,_._seek>0?_._seek:a._sprite[e][0]/1e3),F=Math.max(0,(a._sprite[e][0]+a._sprite[e][1])/1e3-C),$=F*1e3/Math.abs(_._rate),U=a._sprite[e][0]/1e3,ee=(a._sprite[e][0]+a._sprite[e][1])/1e3;_._sprite=e,_._ended=!1;var ne=function(){_._paused=!1,_._seek=C,_._start=U,_._stop=ee,_._loop=!!(_._loop||a._sprite[e][2])};if(C>=ee){a._ended(_);return}var R=_._node;if(a._webAudio){var le=function(){a._playLock=!1,ne(),a._refreshBuffer(_);var Q=_._muted||a._muted?0:_._volume;R.gain.setValueAtTime(Q,t.ctx.currentTime),_._playStart=t.ctx.currentTime,typeof R.bufferSource.start>"u"?_._loop?R.bufferSource.noteGrainOn(0,C,86400):R.bufferSource.noteGrainOn(0,C,F):_._loop?R.bufferSource.start(0,C,86400):R.bufferSource.start(0,C,F),$!==1/0&&(a._endTimers[_._id]=setTimeout(a._ended.bind(a,_),$)),r||setTimeout(function(){a._emit("play",_._id),a._loadQueue()},0)};t.state==="running"&&t.ctx.state!=="interrupted"?le():(a._playLock=!0,a.once("resume",le),a._clearTimer(_._id))}else{var fe=function(){R.currentTime=C,R.muted=_._muted||a._muted||t._muted||R.muted,R.volume=_._volume*t.volume(),R.playbackRate=_._rate;try{var Q=R.play();if(Q&&typeof Promise<"u"&&(Q instanceof Promise||typeof Q.then=="function")?(a._playLock=!0,ne(),Q.then(function(){a._playLock=!1,R._unlocked=!0,r?a._loadQueue():a._emit("play",_._id)}).catch(function(){a._playLock=!1,a._emit("playerror",_._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),_._ended=!0,_._paused=!0})):r||(a._playLock=!1,ne(),a._emit("play",_._id)),R.playbackRate=_._rate,R.paused){a._emit("playerror",_._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}e!=="__default"||_._loop?a._endTimers[_._id]=setTimeout(a._ended.bind(a,_),$):(a._endTimers[_._id]=function(){a._ended(_),R.removeEventListener("ended",a._endTimers[_._id],!1)},R.addEventListener("ended",a._endTimers[_._id],!1))}catch(ie){a._emit("playerror",_._id,ie)}};R.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(R.src=a._src,R.load());var Ae=window&&window.ejecta||!R.readyState&&t._navigator.isCocoonJS;if(R.readyState>=3||Ae)fe();else{a._playLock=!0,a._state="loading";var ce=function(){a._state="loaded",fe(),R.removeEventListener(t._canPlayEvent,ce,!1)};R.addEventListener(t._canPlayEvent,ce,!1),a._clearTimer(_._id)}}return _._id},pause:function(e){var r=this;if(r._state!=="loaded"||r._playLock)return r._queue.push({event:"pause",action:function(){r.pause(e)}}),r;for(var a=r._getSoundIds(e),l=0;l<a.length;l++){r._clearTimer(a[l]);var v=r._soundById(a[l]);if(v&&!v._paused&&(v._seek=r.seek(a[l]),v._rateSeek=0,v._paused=!0,r._stopFade(a[l]),v._node))if(r._webAudio){if(!v._node.bufferSource)continue;typeof v._node.bufferSource.stop>"u"?v._node.bufferSource.noteOff(0):v._node.bufferSource.stop(0),r._cleanBuffer(v._node)}else(!isNaN(v._node.duration)||v._node.duration===1/0)&&v._node.pause();arguments[1]||r._emit("pause",v?v._id:null)}return r},stop:function(e,r){var a=this;if(a._state!=="loaded"||a._playLock)return a._queue.push({event:"stop",action:function(){a.stop(e)}}),a;for(var l=a._getSoundIds(e),v=0;v<l.length;v++){a._clearTimer(l[v]);var m=a._soundById(l[v]);m&&(m._seek=m._start||0,m._rateSeek=0,m._paused=!0,m._ended=!0,a._stopFade(l[v]),m._node&&(a._webAudio?m._node.bufferSource&&(typeof m._node.bufferSource.stop>"u"?m._node.bufferSource.noteOff(0):m._node.bufferSource.stop(0),a._cleanBuffer(m._node)):(!isNaN(m._node.duration)||m._node.duration===1/0)&&(m._node.currentTime=m._start||0,m._node.pause(),m._node.duration===1/0&&a._clearSound(m._node))),r||a._emit("stop",m._id))}return a},mute:function(e,r){var a=this;if(a._state!=="loaded"||a._playLock)return a._queue.push({event:"mute",action:function(){a.mute(e,r)}}),a;if(typeof r>"u")if(typeof e=="boolean")a._muted=e;else return a._muted;for(var l=a._getSoundIds(r),v=0;v<l.length;v++){var m=a._soundById(l[v]);m&&(m._muted=e,m._interval&&a._stopFade(m._id),a._webAudio&&m._node?m._node.gain.setValueAtTime(e?0:m._volume,t.ctx.currentTime):m._node&&(m._node.muted=t._muted?!0:e),a._emit("mute",m._id))}return a},volume:function(){var e=this,r=arguments,a,l;if(r.length===0)return e._volume;if(r.length===1||r.length===2&&typeof r[1]>"u"){var v=e._getSoundIds(),m=v.indexOf(r[0]);m>=0?l=parseInt(r[0],10):a=parseFloat(r[0])}else r.length>=2&&(a=parseFloat(r[0]),l=parseInt(r[1],10));var _;if(typeof a<"u"&&a>=0&&a<=1){if(e._state!=="loaded"||e._playLock)return e._queue.push({event:"volume",action:function(){e.volume.apply(e,r)}}),e;typeof l>"u"&&(e._volume=a),l=e._getSoundIds(l);for(var S=0;S<l.length;S++)_=e._soundById(l[S]),_&&(_._volume=a,r[2]||e._stopFade(l[S]),e._webAudio&&_._node&&!_._muted?_._node.gain.setValueAtTime(a,t.ctx.currentTime):_._node&&!_._muted&&(_._node.volume=a*t.volume()),e._emit("volume",_._id))}else return _=l?e._soundById(l):e._sounds[0],_?_._volume:0;return e},fade:function(e,r,a,l){var v=this;if(v._state!=="loaded"||v._playLock)return v._queue.push({event:"fade",action:function(){v.fade(e,r,a,l)}}),v;e=Math.min(Math.max(0,parseFloat(e)),1),r=Math.min(Math.max(0,parseFloat(r)),1),a=parseFloat(a),v.volume(e,l);for(var m=v._getSoundIds(l),_=0;_<m.length;_++){var S=v._soundById(m[_]);if(S){if(l||v._stopFade(m[_]),v._webAudio&&!S._muted){var C=t.ctx.currentTime,F=C+a/1e3;S._volume=e,S._node.gain.setValueAtTime(e,C),S._node.gain.linearRampToValueAtTime(r,F)}v._startFadeInterval(S,e,r,a,m[_],typeof l>"u")}}return v},_startFadeInterval:function(e,r,a,l,v,m){var _=this,S=r,C=a-r,F=Math.abs(C/.01),$=Math.max(4,F>0?l/F:l),U=Date.now();e._fadeTo=a,e._interval=setInterval(function(){var ee=(Date.now()-U)/l;U=Date.now(),S+=C*ee,S=Math.round(S*100)/100,C<0?S=Math.max(a,S):S=Math.min(a,S),_._webAudio?e._volume=S:_.volume(S,e._id,!0),m&&(_._volume=S),(a<r&&S<=a||a>r&&S>=a)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,_.volume(a,e._id),_._emit("fade",e._id))},$)},_stopFade:function(e){var r=this,a=r._soundById(e);return a&&a._interval&&(r._webAudio&&a._node.gain.cancelScheduledValues(t.ctx.currentTime),clearInterval(a._interval),a._interval=null,r.volume(a._fadeTo,e),a._fadeTo=null,r._emit("fade",e)),r},loop:function(){var e=this,r=arguments,a,l,v;if(r.length===0)return e._loop;if(r.length===1)if(typeof r[0]=="boolean")a=r[0],e._loop=a;else return v=e._soundById(parseInt(r[0],10)),v?v._loop:!1;else r.length===2&&(a=r[0],l=parseInt(r[1],10));for(var m=e._getSoundIds(l),_=0;_<m.length;_++)v=e._soundById(m[_]),v&&(v._loop=a,e._webAudio&&v._node&&v._node.bufferSource&&(v._node.bufferSource.loop=a,a&&(v._node.bufferSource.loopStart=v._start||0,v._node.bufferSource.loopEnd=v._stop,e.playing(m[_])&&(e.pause(m[_],!0),e.play(m[_],!0)))));return e},rate:function(){var e=this,r=arguments,a,l;if(r.length===0)l=e._sounds[0]._id;else if(r.length===1){var v=e._getSoundIds(),m=v.indexOf(r[0]);m>=0?l=parseInt(r[0],10):a=parseFloat(r[0])}else r.length===2&&(a=parseFloat(r[0]),l=parseInt(r[1],10));var _;if(typeof a=="number"){if(e._state!=="loaded"||e._playLock)return e._queue.push({event:"rate",action:function(){e.rate.apply(e,r)}}),e;typeof l>"u"&&(e._rate=a),l=e._getSoundIds(l);for(var S=0;S<l.length;S++)if(_=e._soundById(l[S]),_){e.playing(l[S])&&(_._rateSeek=e.seek(l[S]),_._playStart=e._webAudio?t.ctx.currentTime:_._playStart),_._rate=a,e._webAudio&&_._node&&_._node.bufferSource?_._node.bufferSource.playbackRate.setValueAtTime(a,t.ctx.currentTime):_._node&&(_._node.playbackRate=a);var C=e.seek(l[S]),F=(e._sprite[_._sprite][0]+e._sprite[_._sprite][1])/1e3-C,$=F*1e3/Math.abs(_._rate);(e._endTimers[l[S]]||!_._paused)&&(e._clearTimer(l[S]),e._endTimers[l[S]]=setTimeout(e._ended.bind(e,_),$)),e._emit("rate",_._id)}}else return _=e._soundById(l),_?_._rate:e._rate;return e},seek:function(){var e=this,r=arguments,a,l;if(r.length===0)e._sounds.length&&(l=e._sounds[0]._id);else if(r.length===1){var v=e._getSoundIds(),m=v.indexOf(r[0]);m>=0?l=parseInt(r[0],10):e._sounds.length&&(l=e._sounds[0]._id,a=parseFloat(r[0]))}else r.length===2&&(a=parseFloat(r[0]),l=parseInt(r[1],10));if(typeof l>"u")return 0;if(typeof a=="number"&&(e._state!=="loaded"||e._playLock))return e._queue.push({event:"seek",action:function(){e.seek.apply(e,r)}}),e;var _=e._soundById(l);if(_)if(typeof a=="number"&&a>=0){var S=e.playing(l);S&&e.pause(l,!0),_._seek=a,_._ended=!1,e._clearTimer(l),!e._webAudio&&_._node&&!isNaN(_._node.duration)&&(_._node.currentTime=a);var C=function(){S&&e.play(l,!0),e._emit("seek",l)};if(S&&!e._webAudio){var F=function(){e._playLock?setTimeout(F,0):C()};setTimeout(F,0)}else C()}else if(e._webAudio){var $=e.playing(l)?t.ctx.currentTime-_._playStart:0,U=_._rateSeek?_._rateSeek-_._seek:0;return _._seek+(U+$*Math.abs(_._rate))}else return _._node.currentTime;return e},playing:function(e){var r=this;if(typeof e=="number"){var a=r._soundById(e);return a?!a._paused:!1}for(var l=0;l<r._sounds.length;l++)if(!r._sounds[l]._paused)return!0;return!1},duration:function(e){var r=this,a=r._duration,l=r._soundById(e);return l&&(a=r._sprite[l._sprite][1]/1e3),a},state:function(){return this._state},unload:function(){for(var e=this,r=e._sounds,a=0;a<r.length;a++)r[a]._paused||e.stop(r[a]._id),e._webAudio||(e._clearSound(r[a]._node),r[a]._node.removeEventListener("error",r[a]._errorFn,!1),r[a]._node.removeEventListener(t._canPlayEvent,r[a]._loadFn,!1),r[a]._node.removeEventListener("ended",r[a]._endFn,!1),t._releaseHtml5Audio(r[a]._node)),delete r[a]._node,e._clearTimer(r[a]._id);var l=t._howls.indexOf(e);l>=0&&t._howls.splice(l,1);var v=!0;for(a=0;a<t._howls.length;a++)if(t._howls[a]._src===e._src||e._src.indexOf(t._howls[a]._src)>=0){v=!1;break}return s&&v&&delete s[e._src],t.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,r,a,l){var v=this,m=v["_on"+e];return typeof r=="function"&&m.push(l?{id:a,fn:r,once:l}:{id:a,fn:r}),v},off:function(e,r,a){var l=this,v=l["_on"+e],m=0;if(typeof r=="number"&&(a=r,r=null),r||a)for(m=0;m<v.length;m++){var _=a===v[m].id;if(r===v[m].fn&&_||!r&&_){v.splice(m,1);break}}else if(e)l["_on"+e]=[];else{var S=Object.keys(l);for(m=0;m<S.length;m++)S[m].indexOf("_on")===0&&Array.isArray(l[S[m]])&&(l[S[m]]=[])}return l},once:function(e,r,a){var l=this;return l.on(e,r,a,1),l},_emit:function(e,r,a){for(var l=this,v=l["_on"+e],m=v.length-1;m>=0;m--)(!v[m].id||v[m].id===r||e==="load")&&(setTimeout((function(_){_.call(this,r,a)}).bind(l,v[m].fn),0),v[m].once&&l.off(e,v[m].fn,v[m].id));return l._loadQueue(e),l},_loadQueue:function(e){var r=this;if(r._queue.length>0){var a=r._queue[0];a.event===e&&(r._queue.shift(),r._loadQueue()),e||a.action()}return r},_ended:function(e){var r=this,a=e._sprite;if(!r._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(r._ended.bind(r,e),100),r;var l=!!(e._loop||r._sprite[a][2]);if(r._emit("end",e._id),!r._webAudio&&l&&r.stop(e._id,!0).play(e._id),r._webAudio&&l){r._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=t.ctx.currentTime;var v=(e._stop-e._start)*1e3/Math.abs(e._rate);r._endTimers[e._id]=setTimeout(r._ended.bind(r,e),v)}return r._webAudio&&!l&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,r._clearTimer(e._id),r._cleanBuffer(e._node),t._autoSuspend()),!r._webAudio&&!l&&r.stop(e._id,!0),r},_clearTimer:function(e){var r=this;if(r._endTimers[e]){if(typeof r._endTimers[e]!="function")clearTimeout(r._endTimers[e]);else{var a=r._soundById(e);a&&a._node&&a._node.removeEventListener("ended",r._endTimers[e],!1)}delete r._endTimers[e]}return r},_soundById:function(e){for(var r=this,a=0;a<r._sounds.length;a++)if(e===r._sounds[a]._id)return r._sounds[a];return null},_inactiveSound:function(){var e=this;e._drain();for(var r=0;r<e._sounds.length;r++)if(e._sounds[r]._ended)return e._sounds[r].reset();return new i(e)},_drain:function(){var e=this,r=e._pool,a=0,l=0;if(!(e._sounds.length<r)){for(l=0;l<e._sounds.length;l++)e._sounds[l]._ended&&a++;for(l=e._sounds.length-1;l>=0;l--){if(a<=r)return;e._sounds[l]._ended&&(e._webAudio&&e._sounds[l]._node&&e._sounds[l]._node.disconnect(0),e._sounds.splice(l,1),a--)}}},_getSoundIds:function(e){var r=this;if(typeof e>"u"){for(var a=[],l=0;l<r._sounds.length;l++)a.push(r._sounds[l]._id);return a}else return[e]},_refreshBuffer:function(e){var r=this;return e._node.bufferSource=t.ctx.createBufferSource(),e._node.bufferSource.buffer=s[r._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,t.ctx.currentTime),r},_cleanBuffer:function(e){var r=this,a=t._navigator&&t._navigator.vendor.indexOf("Apple")>=0;if(!e.bufferSource)return r;if(t._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),a))try{e.bufferSource.buffer=t._scratchBuffer}catch{}return e.bufferSource=null,r},_clearSound:function(e){var r=/MSIE |Trident\//.test(t._navigator&&t._navigator.userAgent);r||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(e){this._parent=e,this.init()};i.prototype={init:function(){var e=this,r=e._parent;return e._muted=r._muted,e._loop=r._loop,e._volume=r._volume,e._rate=r._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++t._counter,r._sounds.push(e),e.create(),e},create:function(){var e=this,r=e._parent,a=t._muted||e._muted||e._parent._muted?0:e._volume;return r._webAudio?(e._node=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),e._node.gain.setValueAtTime(a,t.ctx.currentTime),e._node.paused=!0,e._node.connect(t.masterGain)):t.noAudio||(e._node=t._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(t._canPlayEvent,e._loadFn,!1),e._endFn=e._endListener.bind(e),e._node.addEventListener("ended",e._endFn,!1),e._node.src=r._src,e._node.preload=r._preload===!0?"auto":r._preload,e._node.volume=a*t.volume(),e._node.load()),e},reset:function(){var e=this,r=e._parent;return e._muted=r._muted,e._loop=r._loop,e._volume=r._volume,e._rate=r._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++t._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,r=e._parent;r._duration=Math.ceil(e._node.duration*10)/10,Object.keys(r._sprite).length===0&&(r._sprite={__default:[0,r._duration*1e3]}),r._state!=="loaded"&&(r._state="loaded",r._emit("load"),r._loadQueue()),e._node.removeEventListener(t._canPlayEvent,e._loadFn,!1)},_endListener:function(){var e=this,r=e._parent;r._duration===1/0&&(r._duration=Math.ceil(e._node.duration*10)/10,r._sprite.__default[1]===1/0&&(r._sprite.__default[1]=r._duration*1e3),r._ended(e)),e._node.removeEventListener("ended",e._endFn,!1)}};var s={},c=function(e){var r=e._src;if(s[r]){e._duration=s[r].duration,h(e);return}if(/^data:[^;]+;base64,/.test(r)){for(var a=atob(r.split(",")[1]),l=new Uint8Array(a.length),v=0;v<a.length;++v)l[v]=a.charCodeAt(v);p(l.buffer,e)}else{var m=new XMLHttpRequest;m.open(e._xhr.method,r,!0),m.withCredentials=e._xhr.withCredentials,m.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach(function(_){m.setRequestHeader(_,e._xhr.headers[_])}),m.onload=function(){var _=(m.status+"")[0];if(_!=="0"&&_!=="2"&&_!=="3"){e._emit("loaderror",null,"Failed loading audio file with status: "+m.status+".");return}p(m.response,e)},m.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete s[r],e.load())},w(m)}},w=function(e){try{e.send()}catch{e.onerror()}},p=function(e,r){var a=function(){r._emit("loaderror",null,"Decoding audio data failed.")},l=function(v){v&&r._sounds.length>0?(s[r._src]=v,h(r,v)):a()};typeof Promise<"u"&&t.ctx.decodeAudioData.length===1?t.ctx.decodeAudioData(e).then(l).catch(a):t.ctx.decodeAudioData(e,l,a)},h=function(e,r){r&&!e._duration&&(e._duration=r.duration),Object.keys(e._sprite).length===0&&(e._sprite={__default:[0,e._duration*1e3]}),e._state!=="loaded"&&(e._state="loaded",e._emit("load"),e._loadQueue())},I=function(){if(t.usingWebAudio){try{typeof AudioContext<"u"?t.ctx=new AudioContext:typeof webkitAudioContext<"u"?t.ctx=new webkitAudioContext:t.usingWebAudio=!1}catch{t.usingWebAudio=!1}t.ctx||(t.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(t._navigator&&t._navigator.platform),r=t._navigator&&t._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),a=r?parseInt(r[1],10):null;if(e&&a&&a<9){var l=/safari/.test(t._navigator&&t._navigator.userAgent.toLowerCase());t._navigator&&!l&&(t.usingWebAudio=!1)}t.usingWebAudio&&(t.masterGain=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),t.masterGain.gain.setValueAtTime(t._muted?0:t._volume,t.ctx.currentTime),t.masterGain.connect(t.ctx.destination)),t._setup()}};u.Howler=t,u.Howl=o,typeof J<"u"?(J.HowlerGlobal=n,J.Howler=t,J.Howl=o,J.Sound=i):typeof window<"u"&&(window.HowlerGlobal=n,window.Howler=t,window.Howl=o,window.Sound=i)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var o=this;if(!o.ctx||!o.ctx.listener)return o;for(var i=o._howls.length-1;i>=0;i--)o._howls[i].stereo(t);return o},HowlerGlobal.prototype.pos=function(t,o,i){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(o=typeof o!="number"?s._pos[1]:o,i=typeof i!="number"?s._pos[2]:i,typeof t=="number")s._pos=[t,o,i],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(t,o,i,s,c,w){var p=this;if(!p.ctx||!p.ctx.listener)return p;var h=p._orientation;if(o=typeof o!="number"?h[1]:o,i=typeof i!="number"?h[2]:i,s=typeof s!="number"?h[3]:s,c=typeof c!="number"?h[4]:c,w=typeof w!="number"?h[5]:w,typeof t=="number")p._orientation=[t,o,i,s,c,w],typeof p.ctx.listener.forwardX<"u"?(p.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),p.ctx.listener.forwardY.setTargetAtTime(o,Howler.ctx.currentTime,.1),p.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),p.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),p.ctx.listener.upY.setTargetAtTime(c,Howler.ctx.currentTime,.1),p.ctx.listener.upZ.setTargetAtTime(w,Howler.ctx.currentTime,.1)):p.ctx.listener.setOrientation(t,o,i,s,c,w);else return h;return p},Howl.prototype.init=function(t){return function(o){var i=this;return i._orientation=o.orientation||[1,0,0],i._stereo=o.stereo||null,i._pos=o.pos||null,i._pannerAttr={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:360,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:360,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:0,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:"inverse",maxDistance:typeof o.maxDistance<"u"?o.maxDistance:1e4,panningModel:typeof o.panningModel<"u"?o.panningModel:"HRTF",refDistance:typeof o.refDistance<"u"?o.refDistance:1,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:1},i._onstereo=o.onstereo?[{fn:o.onstereo}]:[],i._onpos=o.onpos?[{fn:o.onpos}]:[],i._onorientation=o.onorientation?[{fn:o.onorientation}]:[],t.call(this,o)}}(Howl.prototype.init),Howl.prototype.stereo=function(t,o){var i=this;if(!i._webAudio)return i;if(i._state!=="loaded")return i._queue.push({event:"stereo",action:function(){i.stereo(t,o)}}),i;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof o>"u")if(typeof t=="number")i._stereo=t,i._pos=[t,0,0];else return i._stereo;for(var c=i._getSoundIds(o),w=0;w<c.length;w++){var p=i._soundById(c[w]);if(p)if(typeof t=="number")p._stereo=t,p._pos=[t,0,0],p._node&&(p._pannerAttr.panningModel="equalpower",(!p._panner||!p._panner.pan)&&n(p,s),s==="spatial"?typeof p._panner.positionX<"u"?(p._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),p._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),p._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):p._panner.setPosition(t,0,0):p._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),i._emit("stereo",p._id);else return p._stereo}return i},Howl.prototype.pos=function(t,o,i,s){var c=this;if(!c._webAudio)return c;if(c._state!=="loaded")return c._queue.push({event:"pos",action:function(){c.pos(t,o,i,s)}}),c;if(o=typeof o!="number"?0:o,i=typeof i!="number"?-.5:i,typeof s>"u")if(typeof t=="number")c._pos=[t,o,i];else return c._pos;for(var w=c._getSoundIds(s),p=0;p<w.length;p++){var h=c._soundById(w[p]);if(h)if(typeof t=="number")h._pos=[t,o,i],h._node&&((!h._panner||h._panner.pan)&&n(h,"spatial"),typeof h._panner.positionX<"u"?(h._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),h._panner.positionY.setValueAtTime(o,Howler.ctx.currentTime),h._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):h._panner.setPosition(t,o,i)),c._emit("pos",h._id);else return h._pos}return c},Howl.prototype.orientation=function(t,o,i,s){var c=this;if(!c._webAudio)return c;if(c._state!=="loaded")return c._queue.push({event:"orientation",action:function(){c.orientation(t,o,i,s)}}),c;if(o=typeof o!="number"?c._orientation[1]:o,i=typeof i!="number"?c._orientation[2]:i,typeof s>"u")if(typeof t=="number")c._orientation=[t,o,i];else return c._orientation;for(var w=c._getSoundIds(s),p=0;p<w.length;p++){var h=c._soundById(w[p]);if(h)if(typeof t=="number")h._orientation=[t,o,i],h._node&&(h._panner||(h._pos||(h._pos=c._pos||[0,0,-.5]),n(h,"spatial")),typeof h._panner.orientationX<"u"?(h._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),h._panner.orientationY.setValueAtTime(o,Howler.ctx.currentTime),h._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):h._panner.setOrientation(t,o,i)),c._emit("orientation",h._id);else return h._orientation}return c},Howl.prototype.pannerAttr=function(){var t=this,o=arguments,i,s,c;if(!t._webAudio)return t;if(o.length===0)return t._pannerAttr;if(o.length===1)if(typeof o[0]=="object")i=o[0],typeof s>"u"&&(i.pannerAttr||(i.pannerAttr={coneInnerAngle:i.coneInnerAngle,coneOuterAngle:i.coneOuterAngle,coneOuterGain:i.coneOuterGain,distanceModel:i.distanceModel,maxDistance:i.maxDistance,refDistance:i.refDistance,rolloffFactor:i.rolloffFactor,panningModel:i.panningModel}),t._pannerAttr={coneInnerAngle:typeof i.pannerAttr.coneInnerAngle<"u"?i.pannerAttr.coneInnerAngle:t._coneInnerAngle,coneOuterAngle:typeof i.pannerAttr.coneOuterAngle<"u"?i.pannerAttr.coneOuterAngle:t._coneOuterAngle,coneOuterGain:typeof i.pannerAttr.coneOuterGain<"u"?i.pannerAttr.coneOuterGain:t._coneOuterGain,distanceModel:typeof i.pannerAttr.distanceModel<"u"?i.pannerAttr.distanceModel:t._distanceModel,maxDistance:typeof i.pannerAttr.maxDistance<"u"?i.pannerAttr.maxDistance:t._maxDistance,refDistance:typeof i.pannerAttr.refDistance<"u"?i.pannerAttr.refDistance:t._refDistance,rolloffFactor:typeof i.pannerAttr.rolloffFactor<"u"?i.pannerAttr.rolloffFactor:t._rolloffFactor,panningModel:typeof i.pannerAttr.panningModel<"u"?i.pannerAttr.panningModel:t._panningModel});else return c=t._soundById(parseInt(o[0],10)),c?c._pannerAttr:t._pannerAttr;else o.length===2&&(i=o[0],s=parseInt(o[1],10));for(var w=t._getSoundIds(s),p=0;p<w.length;p++)if(c=t._soundById(w[p]),c){var h=c._pannerAttr;h={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:h.coneInnerAngle,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:h.coneOuterAngle,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:h.coneOuterGain,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:h.distanceModel,maxDistance:typeof i.maxDistance<"u"?i.maxDistance:h.maxDistance,refDistance:typeof i.refDistance<"u"?i.refDistance:h.refDistance,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:h.rolloffFactor,panningModel:typeof i.panningModel<"u"?i.panningModel:h.panningModel};var I=c._panner;I||(c._pos||(c._pos=t._pos||[0,0,-.5]),n(c,"spatial"),I=c._panner),I.coneInnerAngle=h.coneInnerAngle,I.coneOuterAngle=h.coneOuterAngle,I.coneOuterGain=h.coneOuterGain,I.distanceModel=h.distanceModel,I.maxDistance=h.maxDistance,I.refDistance=h.refDistance,I.rolloffFactor=h.rolloffFactor,I.panningModel=h.panningModel}return t},Sound.prototype.init=function(t){return function(){var o=this,i=o._parent;o._orientation=i._orientation,o._stereo=i._stereo,o._pos=i._pos,o._pannerAttr=i._pannerAttr,t.call(this),o._stereo?i.stereo(o._stereo):o._pos&&i.pos(o._pos[0],o._pos[1],o._pos[2],o._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var o=this,i=o._parent;return o._orientation=i._orientation,o._stereo=i._stereo,o._pos=i._pos,o._pannerAttr=i._pannerAttr,o._stereo?i.stereo(o._stereo):o._pos?i.pos(o._pos[0],o._pos[1],o._pos[2],o._id):o._panner&&(o._panner.disconnect(0),o._panner=void 0,i._refreshBuffer(o)),t.call(this)}}(Sound.prototype.reset);var n=function(t,o){o=o||"spatial",o==="spatial"?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,typeof t._panner.positionX<"u"?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),typeof t._panner.orientationX<"u"?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}})()})(ct);class rr{constructor(){ae(this,"player",new Dt);ae(this,"score",new Ht);ae(this,"clickValue",0);ae(this,"isAlien1",!0);this.init()}async init(){await this.drawPlayer(),this.drawScore()}drawScore(){this.score.text=`Score: ${this.clickValue}`,this.player.addChild(this.score)}async drawPlayer(){const n=new Gt(await Se.load("assets/happy.png"));n.eventMode="static",n.cursor="pointer",n.scale=3;var t=new ct.Howl({src:["assets/sound/play.mp3"],html5:!0});const o=await Se.load("assets/happy.png"),i=await Se.load("assets/sad.png");n.on("pointertap",()=>{setTimeout(()=>{t.play()}),this.isAlien1=!this.isAlien1,this.clickValue=this.clickValue+=1,this.score.text=`Score: ${this.clickValue}`,n.texture=this.isAlien1?o:i;const s=ut.timeline();s.to(n,{pixi:{scale:5},onComplete:()=>{s.to(n,{pixi:{scale:3}}),this.isAlien1=!this.isAlien1,n.texture=this.isAlien1?o:i},onUpdate:()=>{},duration:.2})}),this.player.addChild(n),n.anchor.set(.5),n.x=300,n.y=400}}/*!
 * PixiPlugin 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var z,me,Ke,W,ue,dt,Oe,_t=function(){return typeof window<"u"},pt=function(){return z||_t()&&(z=window.gsap)&&z.registerPlugin&&z},ke=function(n){return typeof n=="function"},ht=function(n){return console.warn(n)},nr=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],j=.212671,N=.71516,q=.072169,vt=function(n){return ke(W[n])?W[n]:W.filters[n]},ge=function(n,t){var o=[],i=0,s=0,c,w;for(c=0;c<4;c++){for(w=0;w<5;w++)s=w===4?n[i+4]:0,o[i+w]=n[i]*t[w]+n[i+1]*t[w+5]+n[i+2]*t[w+10]+n[i+3]*t[w+15]+s;i+=5}return o},et=function(n,t){var o=1-t,i=o*j,s=o*N,c=o*q;return ge([i+t,s,c,0,0,i,s+t,c,0,0,i,s,c+t,0,0,0,0,0,1,0],n)},tt=function(n,t,o){var i=me(t),s=i[0]/255,c=i[1]/255,w=i[2]/255,p=1-o;return ge([p+o*s*j,o*s*N,o*s*q,0,0,o*c*j,p+o*c*N,o*c*q,0,0,o*w*j,o*w*N,p+o*w*q,0,0,0,0,0,1,0],n)},rt=function(n,t){t*=Math.PI/180;var o=Math.cos(t),i=Math.sin(t);return ge([j+o*(1-j)+i*-j,N+o*-N+i*-N,q+o*-q+i*(1-q),0,0,j+o*-j+i*.143,N+o*(1-N)+i*.14,q+o*-q+i*-.283,0,0,j+o*-j+i*-(1-j),N+o*-N+i*N,q+o*(1-q)+i*q,0,0,0,0,0,1,0,0,0,0,0,1],n)},nt=function(n,t){return ge([t,0,0,0,.5*(1-t),0,t,0,0,.5*(1-t),0,0,t,0,.5*(1-t),0,0,0,1,0],n)},yt=function(n,t){var o=vt(t),i=n.filters||[],s=i.length,c;for(o||ht(t+" not found. PixiPlugin.registerPIXI(PIXI)");--s>-1;)if(i[s]instanceof o)return i[s];return c=new o,t==="BlurFilter"&&(c.blur=0),i.push(c),n.filters=i,c},L=function(n,t,o,i){t.add(o,n,o[n],i[n]),t._props.push(n)},it=function(n,t){var o=vt("ColorMatrixFilter"),i=new o;return i.matrix=t,i.brightness(n,!0),i.matrix},ir=function(n){var t={},o;for(o in n)t[o]=n[o];return t},X={contrast:1,saturation:1,colorizeAmount:0,colorize:"rgb(255,255,255)",hue:0,brightness:1},or=function(n,t,o){var i=yt(n,"ColorMatrixFilter"),s=n._gsColorMatrixFilter=n._gsColorMatrixFilter||ir(X),c=t.combineCMF&&!("colorMatrixFilter"in t&&!t.colorMatrixFilter),w,p,h;for(h=i.matrix,t.resolution&&(i.resolution=t.resolution),t.matrix&&t.matrix.length===h.length?(p=t.matrix,s.contrast!==1&&L("contrast",o,s,X),s.hue&&L("hue",o,s,X),s.brightness!==1&&L("brightness",o,s,X),s.colorizeAmount&&(L("colorize",o,s,X),L("colorizeAmount",o,s,X)),s.saturation!==1&&L("saturation",o,s,X)):(p=nr.slice(),t.contrast!=null?(p=nt(p,+t.contrast),L("contrast",o,s,t)):s.contrast!==1&&(c?p=nt(p,s.contrast):L("contrast",o,s,X)),t.hue!=null?(p=rt(p,+t.hue),L("hue",o,s,t)):s.hue&&(c?p=rt(p,s.hue):L("hue",o,s,X)),t.brightness!=null?(p=it(+t.brightness,p),L("brightness",o,s,t)):s.brightness!==1&&(c?p=it(s.brightness,p):L("brightness",o,s,X)),t.colorize!=null?(t.colorizeAmount="colorizeAmount"in t?+t.colorizeAmount:1,p=tt(p,t.colorize,t.colorizeAmount),L("colorize",o,s,t),L("colorizeAmount",o,s,t)):s.colorizeAmount&&(c?p=tt(p,s.colorize,s.colorizeAmount):(L("colorize",o,s,X),L("colorizeAmount",o,s,X))),t.saturation!=null?(p=et(p,+t.saturation),L("saturation",o,s,t)):s.saturation!==1&&(c?p=et(p,s.saturation):L("saturation",o,s,X))),w=p.length;--w>-1;)p[w]!==h[w]&&o.add(h,w,h[w],p[w],"colorMatrixFilter");o._props.push("colorMatrixFilter")},ar=function(n,t){var o=t.t,i=t.p,s=t.color,c=t.set;c(o,i,s[0]<<16|s[1]<<8|s[2])},sr=function(n,t){var o=t.g;o&&(o.dirty++,o.clearDirty++)},ur=function(n,t){t.t.visible=!!t.t.alpha},ot=function(n,t,o,i){var s=n[t],c=me(ke(s)?n[t.indexOf("set")||!ke(n["get"+t.substr(3)])?t:"get"+t.substr(3)]():s),w=me(o);i._pt=new ue(i._pt,n,t,0,0,ar,{t:n,p:t,color:c,set:dt(n,t)}),i.add(c,0,c[0],w[0]),i.add(c,1,c[1],w[1]),i.add(c,2,c[2],w[2])},lr={tint:1,lineColor:1,fillColor:1},at="position,scale,skew,pivot,anchor,tilePosition,tileScale".split(","),Ce={x:"position",y:"position",tileX:"tilePosition",tileY:"tilePosition"},fr={colorMatrixFilter:1,saturation:1,contrast:1,hue:1,colorize:1,colorizeAmount:1,brightness:1,combineCMF:1},we=Math.PI/180,mt=function(n){return typeof n=="string"},cr=function(n){return mt(n)&&n.charAt(1)==="="?n.substr(0,2)+parseFloat(n.substr(2))*we:n*we},dr=function(n,t){return t.set(t.t,t.p,n===1?t.e:Math.round((t.s+t.c*n)*1e5)/1e5,t)},_r=function(n,t,o,i,s,c){var w=360*(c?we:1),p=mt(s),h=p&&s.charAt(1)==="="?+(s.charAt(0)+"1"):0,I=parseFloat(h?s.substr(2):s)*(c?we:1),e=h?I*h:I-i,r=i+e,a,l;return p&&(a=s.split("_")[1],a==="short"&&(e%=w,e!==e%(w/2)&&(e+=e<0?w:-w)),a==="cw"&&e<0?e=(e+w*1e10)%w-~~(e/w)*w:a==="ccw"&&e>0&&(e=(e-w*1e10)%w-~~(e/w)*w)),n._pt=l=new ue(n._pt,t,o,i,e,dr),l.e=r,l},st=function(){Ke||(z=pt(),W=Ke=W||_t()&&window.PIXI,Oe=W&&W.VERSION&&W.VERSION.charAt(0)==="4",me=function(t){return z.utils.splitColor((t+"").substr(0,2)==="0x"?"#"+t.substr(2):t)})},pe,se;for(pe=0;pe<at.length;pe++)se=at[pe],Ce[se+"X"]=se,Ce[se+"Y"]=se;var Re={version:"3.12.5",name:"pixi",register:function(n,t,o){z=n,ue=o,dt=t.getSetter,st()},headless:!0,registerPIXI:function(n){W=n},init:function(n,t,o,i,s){if(W||st(),!W)return ht("PIXI was not found. PixiPlugin.registerPIXI(PIXI);"),!1;var c,w,p,h,I,e,r,a,l;for(e in t){if(c=Ce[e],p=t[e],c)w=~e.charAt(e.length-1).toLowerCase().indexOf("x")?"x":"y",this.add(n[c],w,n[c][w],c==="skew"?cr(p):p,0,0,0,0,0,1);else if(e==="scale"||e==="anchor"||e==="pivot"||e==="tileScale")this.add(n[e],"x",n[e].x,p),this.add(n[e],"y",n[e].y,p);else if(e==="rotation"||e==="angle")_r(this,n,e,n[e],p,e==="rotation");else if(fr[e])h||(or(n,t.colorMatrixFilter||t,this),h=!0);else if(e==="blur"||e==="blurX"||e==="blurY"||e==="blurPadding"){if(I=yt(n,"BlurFilter"),this.add(I,e,I[e],p),t.blurPadding!==0)for(r=t.blurPadding||Math.max(I[e],p)*2,a=n.filters.length;--a>-1;)n.filters[a].padding=Math.max(n.filters[a].padding,r)}else if(lr[e])if((e==="lineColor"||e==="fillColor")&&n instanceof W.Graphics)for(l=(n.geometry||n).graphicsData,this._pt=new ue(this._pt,n,e,0,0,sr,{g:n.geometry||n}),a=l.length;--a>-1;)ot(Oe?l[a]:l[a][e.substr(0,4)+"Style"],Oe?e:"color",p,this);else ot(n,e,p,this);else e==="autoAlpha"?(this._pt=new ue(this._pt,n,"visible",0,0,ur),this.add(n,"alpha",n.alpha,p),this._props.push("alpha","visible")):e!=="resolution"&&this.add(n,e,"get",p);this._props.push(e)}}};pt()&&z.registerPlugin(Re);async function pr(){const u=new Bt;await u.init({width:600,height:800,background:"#1099bb"}),ut.registerPlugin(Re),Re.registerPIXI(Lt);const n=document.querySelector("#app");n&&n.appendChild(u.canvas),tr.register("app",{useValue:u}),u.stage.addChild(new rr().player)}pr();
